---
layout: post
title: "HTTP, HTTPS 란?"
subtitle: ""
date: 2022-06-29 22:26:00 +0900
background: '/img/posts/06.jpg'
---

<div class="article">
    <h4 class="sub-title">HTTP(Hyper Text Transfer Protocol)</h4>
    <div class="content">
        클라이언트와 서버간의 데이터(텍스트, 오디오, 비디오, 이미지 등)를 주고 받게 해주는 TCP/IP 기반의 프로토콜이며, 기본 80포트를 사용한다.
    </div>
    <div class="content">
        <h4 class="sub-title">HTTP 특징</h4>
        <ul class="list">
            <li>
                클라이언트 서버 구조
                <ul class="list">
                    <li>서버가 요청(request)에 대한 결과를 만들어서 응답이 오면 클라이언트가 응답(response) 결과를 열어서 동작을 하게된다.</li>
                </ul>
            </li>
            <li>
                무상태(Stateless)
                <ul class="list">
                    <li>서버가 클라이언트의 상태를 보존하지 않는다.</li>
                    <li>서버 확장성이 높다는 장점이 있고, 클라이언트가 추가 데이터를 전송해야하는 단점이 있다.</li>
                </ul>
            </li>
            <li>
                비연결성(Connectionless)
                <ul class="list">
                    <li>클라이언트가 서버에 요청을 보내고 응답을 받게되면 바로 클라이언트와 서버의 연결을 끊어버린다.</li>
                    <li>수 천명이 서비스를 사용해도 실제 서버에서 동시에 처리하는 요청은 수 십개 이하로 작으므로 서버 자원을 효율적으로 사용할 수 있다.</li>
                </ul>
            </li>
            <li>
                http 메세지(추후 포스팅 예정)
            </li>
        </ul>
    </div>
    <div class="content">
        <h4 class="sub-title">HTTP 동작 과정</h4>
        <ol class="list">
            <li>사용자가 웹 브라우저에 URL주소 입력</li>
            <li>DNS 서버에 웹 서버의 호스트 이름을 IP주소로 변경</li>
            <li>웹 서버와 TCP 연결 시도</li>
            <li>클라이언트가 서버에게 요청</li>
            <li>서버가 클라이언트에게 데이터 응답</li>
            <li>서버와 클라이언트 간의 연결 종료</li>
            <li>웹 브라우저가 웹 문서 출력</li>
        </ol>
    </div>
</div>

<div class="article">
    <h4 class="sub-title">HTTPS(Hyper Text Transfer Protocol Secure)</h4>
    <div class="content">
        TCP/IP 위에 SSL/TLS 층을 추가하여 암호화, 인증 그리고 무결성 보장을 통해 더 안전하게 만들어주는 프로토콜이며, 기본 433포트를 사용한다.
    </div>
    <div class="content">
        <h4 class="sub-title">HTTPS 동작 과정</h4>
        <ol class="list">
            <li>
                <ol class="list">
                    <li>
                        클라이언트가 서버에 접속하고 아래와 같은 데이터를 전송한다.(Client Hello)
                        <ul class="list">
                            <li>클라이언트 측에서 생성한 랜덤 데이터</li>
                            <li>클라이언트가 지원하는 암호화 방식</li>
                            <li>세션 아이디</li>
                        </ul>
                    </li>
                    <li>
                        서버는 Client Hello에 대한 응답을 하고 아래와 같은 데이터를 전송한다.(Server Hello)
                        <ul class="list">
                            <li>서버 측에서 생성한 랜덤 데이터</li>
                            <li>서버가 선택한 암호화 방식</li>
                            <li>인증서</li>
                        </ul>
                    </li>
                    <li>
                        클라이언트 인증 확인
                        <ul class="list">
                            <li>서버로부터 받은 인증서가 CA에 의해 발급되었는지 본인이 가지고 있는 목록에서 확인하고, 목록에 있다면 CA 공개키로 인증서 복호화를 한다.</li>
                            <li>클라이언트와 서버 각각의 랜덤 데이터를 조합하여 pre mastet secret key를 생성한다.</li>
                            <li>pre master secret key을 공개키 방식으로 서버에 전달한다.</li>
                            <li>일련의 과정을 거쳐서 session key를 생성한다.</li>
                        </ul>
                    </li>
                    <li>
                        서버 인증 확인
                        <ul class="list">
                            <li>서버는 비공개키로 복호화하여 pre master secret key를 취득한다.</li>
                            <li>일련의 과정을 거쳐서 session key를 생성한다.</li>
                        </ul>
                    </li>
                    <li>
                        Handshaking 종료한다.
                    </li>
                </ol>
            </li>
            <li>
                데이터 전송
                <ul>
                    <li>서버와 클라이언트는 sessoin key를 활용해 데이터를 암복호화하여 데이터를 송수신한다.</li>
                </ul>
            </li>
            <li>
                연결을 종료하고 session key를 폐기한다.
            </li>
        </ol>
    </div>
</div>